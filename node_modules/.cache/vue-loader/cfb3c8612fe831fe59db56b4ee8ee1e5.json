{"remainingRequest":"/Users/liuyatou/huangyuhui/workspace/vue/supermall/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liuyatou/huangyuhui/workspace/vue/supermall/src/views/home/Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/liuyatou/huangyuhui/workspace/vue/supermall/src/views/home/Home.vue","mtime":1577098398638},{"path":"/Users/liuyatou/huangyuhui/workspace/vue/supermall/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liuyatou/huangyuhui/workspace/vue/supermall/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/liuyatou/huangyuhui/workspace/vue/supermall/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liuyatou/huangyuhui/workspace/vue/supermall/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBOYXZCYXIgZnJvbSAiY29tcG9uZW50cy9jb21tb24vbmF2YmFyL05hdkJhciI7CgppbXBvcnQgeyBnZXRIb21lTXVsdGlkYXRhLCBnZXRIb21lR29vZHMgfSBmcm9tICJuZXR3b3JrL2hvbWUiOwoKaW1wb3J0IEhvbWVTd2lwZXIgZnJvbSAiLi9jaGlsZENvbXBzL0hvbWVTd2lwZXIiOwppbXBvcnQgSG9tZVJlY29tbWVuZCBmcm9tICIuL2NoaWxkQ29tcHMvSG9tZVJlY29tbWVuZCI7CmltcG9ydCBGZWF0dXJlVmlldyBmcm9tICIuL2NoaWxkQ29tcHMvRmVhdHVyZVZpZXciOwoKaW1wb3J0IFRhYkNvbnRyb2wgZnJvbSAiY29tcG9uZW50cy9jb250ZW50L3RhYmNvbnRyb2wvVGFiQ29udHJvbCI7CmltcG9ydCBHb29kc0xpc3QgZnJvbSAiY29tcG9uZW50cy9jb250ZW50L2dvb2RzL0dvb2RMaXN0IjsKCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkhvbWUiLAogIGNvbXBvbmVudHM6IHsKICAgIE5hdkJhciwKICAgIEhvbWVTd2lwZXIsCiAgICBIb21lUmVjb21tZW5kLAogICAgRmVhdHVyZVZpZXcsCiAgICBUYWJDb250cm9sLAogICAgR29vZHNMaXN0CiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYmFubmVyczogW10sCiAgICAgIHJlY29tbWVuZDogW10sCiAgICAgIGdvb2RzOiB7CiAgICAgICAgcG9wOiB7IHBhZ2U6IDAsIGxpc3Q6IFtdIH0sCiAgICAgICAgbmV3OiB7IHBhZ2U6IDAsIGxpc3Q6IFtdIH0sCiAgICAgICAgc2VsbDogeyBwYWdlOiAwLCBsaXN0OiBbXX0KICAgICAgfSwKICAgICAgY3VycmVudFR5cGU6J3BvcCcKICAgIH07CiAgfSwKICBjcmVhdGVkKCkgewogICAgLy/or7fmsYLlpJrkuKrmlbDmja4KICAgIHRoaXMuZ2V0SG9tZU11bHRpZGF0YU1ldGhvZCgpOwogICAgLy8y6K+35rGC5ZWG5ZOB5pWw5o2uCiAgICB0aGlzLmdldEhvbWVHb29kc01ldGhvZCgncG9wJyk7CiAgICB0aGlzLmdldEhvbWVHb29kc01ldGhvZCgnbmV3Jyk7CiAgICB0aGlzLmdldEhvbWVHb29kc01ldGhvZCgnc2VsbCcpCiAgIAogIH0sCiAgbWV0aG9kczogewogICAgLy/nvZHnu5zor7fmsYLnm7jlhbPmlrnms5UKICAgIC8v6L+Z6YeM5aSE55CG5Lia5Yqh6YC76L6RCiAgICBnZXRIb21lTXVsdGlkYXRhTWV0aG9kKCkgewogICAgICBnZXRIb21lTXVsdGlkYXRhKCkudGhlbihyZXMgPT4gewogICAgICAgIHRoaXMuYmFubmVycyA9IHJlcy5kYXRhLmJhbm5lci5saXN0OwogICAgICAgIHRoaXMucmVjb21tZW5kID0gcmVzLmRhdGEucmVjb21tZW5kLmxpc3Q7CiAgICAgIH0pOwogICAgfSwKICAgIGdldEhvbWVHb29kc01ldGhvZCh0eXBlKXsKICAgICAgY29uc3QgcGFnZSA9IHRoaXMuZ29vZHNbdHlwZV0ucGFnZSArMQogICAgICAgZ2V0SG9tZUdvb2RzKHR5cGUsIHBhZ2UpLnRoZW4ocmVzID0+IHsKICAgICAgICB0aGlzLmdvb2RzW3R5cGVdLmxpc3QucHVzaCguLi5yZXMuZGF0YS5saXN0KTsKICAgICAgICB0aGlzLmdvb2RzW3R5cGVdLnBhZ2UgKz0gMTsKICAgICAgfSk7CiAgICB9LAoKICAgIC8v5LqL5Lu255uR5ZCs55u45YWz5pa55rOVCiAgICB0YWJUeXBlKGluZGV4KXsKICAgICAgY29uc29sZS5sb2coaW5kZXgpCiAgICAgIHN3aXRjaChpbmRleCl7CiAgICAgICAgY2FzZSAwOgogICAgICAgICAgdGhpcy5jdXJyZW50VHlwZSA9ICdwb3AnCiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlIDE6CiAgICAgICAgICB0aGlzLmN1cnJlbnRUeXBlID0gJ25ldycKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgMjoKICAgICAgICAgIHRoaXMuY3VycmVudFR5cGUgPSAnc2VsbCcKICAgICAgICAgIGJyZWFrOwogICAgICB9CiAgICB9ICAgICAgICAgIAoKCiAgfQp9Owo="},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgCA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA","file":"Home.vue","sourceRoot":"src/views/home","sourcesContent":["<template>\n  <div id=\"home\">\n    <nav-bar class=\"home-nav\"><div slot=\"center\">购物街</div></nav-bar>\n    <home-swiper :banners=\"banners\"></home-swiper>\n    <home-recommend :recommend=\"recommend\"></home-recommend>\n    <feature-view></feature-view>\n    <tab-control\n      class=\"tab-control\"\n      :title=\"['流行', '新款', '精选']\"\n      @tabClick=\"tabType\"\n    ></tab-control>\n    <goods-list :goods=\"goods[currentType].list\" ></goods-list>\n    <ul>\n      <li>erere</li>\n      <li>dfdfdfd</li>\n      <li>dfdfdfd</li>\n      <li>dfdfdfd</li>\n      <li>dfdfdfd</li>\n      <li>dfdfdfd</li>\n      <li>dfdfdfd</li>\n      <li>dfdfdfd</li>\n      <li>dfdfdfd</li>\n      <li>dfdfdfd</li>\n      <li>dfdfdfd</li>\n      <li>dfdfdfd</li>\n      <li>dfdfdfd</li>\n      <li>dfdfdfd</li>\n    </ul>\n  </div>\n</template>\n\n<script>\nimport NavBar from \"components/common/navbar/NavBar\";\n\nimport { getHomeMultidata, getHomeGoods } from \"network/home\";\n\nimport HomeSwiper from \"./childComps/HomeSwiper\";\nimport HomeRecommend from \"./childComps/HomeRecommend\";\nimport FeatureView from \"./childComps/FeatureView\";\n\nimport TabControl from \"components/content/tabcontrol/TabControl\";\nimport GoodsList from \"components/content/goods/GoodList\";\n\n\nexport default {\n  name: \"Home\",\n  components: {\n    NavBar,\n    HomeSwiper,\n    HomeRecommend,\n    FeatureView,\n    TabControl,\n    GoodsList\n  },\n  data() {\n    return {\n      banners: [],\n      recommend: [],\n      goods: {\n        pop: { page: 0, list: [] },\n        new: { page: 0, list: [] },\n        sell: { page: 0, list: []}\n      },\n      currentType:'pop'\n    };\n  },\n  created() {\n    //请求多个数据\n    this.getHomeMultidataMethod();\n    //2请求商品数据\n    this.getHomeGoodsMethod('pop');\n    this.getHomeGoodsMethod('new');\n    this.getHomeGoodsMethod('sell')\n   \n  },\n  methods: {\n    //网络请求相关方法\n    //这里处理业务逻辑\n    getHomeMultidataMethod() {\n      getHomeMultidata().then(res => {\n        this.banners = res.data.banner.list;\n        this.recommend = res.data.recommend.list;\n      });\n    },\n    getHomeGoodsMethod(type){\n      const page = this.goods[type].page +1\n       getHomeGoods(type, page).then(res => {\n        this.goods[type].list.push(...res.data.list);\n        this.goods[type].page += 1;\n      });\n    },\n\n    //事件监听相关方法\n    tabType(index){\n      console.log(index)\n      switch(index){\n        case 0:\n          this.currentType = 'pop'\n          break;\n        case 1:\n          this.currentType = 'new'\n          break;\n        case 2:\n          this.currentType = 'sell'\n          break;\n      }\n    }          \n\n\n  }\n};\n</script>\n\n<style scoped>\n#home {\n  padding-top: 44px;\n}\n.home-nav {\n  background-color: var(--color-tint);\n  color: #fff;\n\n  position: fixed;\n  left: 0;\n  right: 0;\n  top: 0;\n  z-index: 9;\n}\n.tab-control {\n  position: sticky;\n  top: 44px;\n  z-index:9;\n}\n</style>\n"]}]}