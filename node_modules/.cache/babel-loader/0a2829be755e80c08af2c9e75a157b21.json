{"remainingRequest":"/Users/liuyatou/huangyuhui/workspace/vue/supermall/node_modules/babel-loader/lib/index.js!/Users/liuyatou/huangyuhui/workspace/vue/supermall/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/liuyatou/huangyuhui/workspace/vue/supermall/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liuyatou/huangyuhui/workspace/vue/supermall/src/views/home/Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/liuyatou/huangyuhui/workspace/vue/supermall/src/views/home/Home.vue","mtime":1577353112000},{"path":"/Users/liuyatou/huangyuhui/workspace/vue/supermall/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liuyatou/huangyuhui/workspace/vue/supermall/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/liuyatou/huangyuhui/workspace/vue/supermall/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liuyatou/huangyuhui/workspace/vue/supermall/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICIvVXNlcnMvbGl1eWF0b3UvaHVhbmd5dWh1aS93b3Jrc3BhY2UvdnVlL3N1cGVybWFsbC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdG9Db25zdW1hYmxlQXJyYXkiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgTmF2QmFyIGZyb20gImNvbXBvbmVudHMvY29tbW9uL25hdmJhci9OYXZCYXIiOwppbXBvcnQgeyBnZXRIb21lTXVsdGlkYXRhLCBnZXRIb21lR29vZHMgfSBmcm9tICJuZXR3b3JrL2hvbWUiOwppbXBvcnQgSG9tZVN3aXBlciBmcm9tICIuL2NoaWxkQ29tcHMvSG9tZVN3aXBlciI7CmltcG9ydCBIb21lUmVjb21tZW5kIGZyb20gIi4vY2hpbGRDb21wcy9Ib21lUmVjb21tZW5kIjsKaW1wb3J0IEZlYXR1cmVWaWV3IGZyb20gIi4vY2hpbGRDb21wcy9GZWF0dXJlVmlldyI7CmltcG9ydCBUYWJDb250cm9sIGZyb20gImNvbXBvbmVudHMvY29udGVudC90YWJjb250cm9sL1RhYkNvbnRyb2wiOwppbXBvcnQgR29vZHNMaXN0IGZyb20gImNvbXBvbmVudHMvY29udGVudC9nb29kcy9Hb29kTGlzdCI7CmltcG9ydCBDb21TY3JvbGwgZnJvbSAiY29tcG9uZW50cy9jb21tb24vc2Nyb2xsL0NvbVNjcm9sbCI7CmltcG9ydCB7IGRlYm91bmNlIH0gZnJvbSAiY29tbW9uL3V0aWxzIjsKaW1wb3J0IHsgaXRlbUxpc3RlbmVyTWl4aW4sIEJhY2tUb3BNaXhpbiB9IGZyb20gJ2NvbW1vbi9taXhpbic7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiSG9tZSIsCiAgY29tcG9uZW50czogewogICAgTmF2QmFyOiBOYXZCYXIsCiAgICBIb21lU3dpcGVyOiBIb21lU3dpcGVyLAogICAgSG9tZVJlY29tbWVuZDogSG9tZVJlY29tbWVuZCwKICAgIEZlYXR1cmVWaWV3OiBGZWF0dXJlVmlldywKICAgIFRhYkNvbnRyb2w6IFRhYkNvbnRyb2wsCiAgICBHb29kc0xpc3Q6IEdvb2RzTGlzdCwKICAgIENvbVNjcm9sbDogQ29tU2Nyb2xsCiAgfSwKICBtaXhpbnM6IFtpdGVtTGlzdGVuZXJNaXhpbiwgQmFja1RvcE1peGluXSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYmFubmVyczogW10sCiAgICAgIHJlY29tbWVuZDogW10sCiAgICAgIGdvb2RzOiB7CiAgICAgICAgcG9wOiB7CiAgICAgICAgICBwYWdlOiAwLAogICAgICAgICAgbGlzdDogW10KICAgICAgICB9LAogICAgICAgIG5ldzogewogICAgICAgICAgcGFnZTogMCwKICAgICAgICAgIGxpc3Q6IFtdCiAgICAgICAgfSwKICAgICAgICBzZWxsOiB7CiAgICAgICAgICBwYWdlOiAwLAogICAgICAgICAgbGlzdDogW10KICAgICAgICB9CiAgICAgIH0sCiAgICAgIGN1cnJlbnRUeXBlOiAncG9wJywKICAgICAgaXNTaG93QnNja1RvcDogZmFsc2UsCiAgICAgIHRhYk9mZnNldFRvcDogMCwKICAgICAgaXNUYWJGaXhlZDogZmFsc2UsCiAgICAgIHNhdmVZOiAwCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIC8v6K+35rGC5aSa5Liq5pWw5o2uCiAgICB0aGlzLmdldEhvbWVNdWx0aWRhdGFNZXRob2QoKTsgLy8y6K+35rGC5ZWG5ZOB5pWw5o2uCgogICAgdGhpcy5nZXRIb21lR29vZHNNZXRob2QoJ3BvcCcpOwogICAgdGhpcy5nZXRIb21lR29vZHNNZXRob2QoJ25ldycpOwogICAgdGhpcy5nZXRIb21lR29vZHNNZXRob2QoJ3NlbGwnKTsKICAgIGNvbnNvbGUubG9nKCJob21lIGNyZWF0ZSIpOwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsvLzMu55uR5ZCsaXRlbeS4ree7hOS7tuWKoOi9veWujOaIkCwKICAgIC8vY29uc3QgcmVmcmVzaCA9IGRlYm91bmNlKHRoaXMuJHJlZnMuaG9tZXNjcm9sbC5yZWZyZXNoLDUwMCkKICAgIC8v5a+555uR5ZCs55qE5LqL5Lu26L+b6KGM5L+d5a2YCiAgICAvL3RoaXMuaXRlbUltZ0xpc3RlbmVyID0gKCk9PnsgCiAgICAvL+ayoeaciei/m+ihjOmYsuaKluaTjeS9nAogICAgLy8gdGhpcy4kcmVmcy5ob21lc2Nyb2xsLnJlZnJlc2goKQogICAgLy/lr7nku5bov5vooYzpmLLmipbmk43kvZwKICAgIC8vcmVmcmVzaCgpOwogICAgLy99CiAgICAvL3RoaXMuJGJ1cy4kb24oJ2l0ZW1JbWFnZUxvYWQnLHRoaXMuaXRlbUltZ0xpc3RlbmVyKQogICAgLy/ojrflj5Z0YWJDb250cm9s55qEb2Zmc2V0VG9w77yM57uE5Lu25piv5LiN5Y+v5Lul6I635Y+Wb2Zmc2V0VG9wCiAgICAvL+aJgOacieeahOe7hOS7tumDveS4gOS4qiRlbOWxnuaAp++8jOeUqOS6juiOt+WPlue7hOS7tuS4reeahOWFg+e0oAogIH0sCiAgbWV0aG9kczogewogICAgLy/nvZHnu5zor7fmsYLnm7jlhbPmlrnms5UKICAgIC8v6L+Z6YeM5aSE55CG5Lia5Yqh6YC76L6RCiAgICBnZXRIb21lTXVsdGlkYXRhTWV0aG9kOiBmdW5jdGlvbiBnZXRIb21lTXVsdGlkYXRhTWV0aG9kKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgZ2V0SG9tZU11bHRpZGF0YSgpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzLmJhbm5lcnMgPSByZXMuZGF0YS5iYW5uZXIubGlzdDsKICAgICAgICBfdGhpcy5yZWNvbW1lbmQgPSByZXMuZGF0YS5yZWNvbW1lbmQubGlzdDsKICAgICAgfSk7CiAgICB9LAogICAgZ2V0SG9tZUdvb2RzTWV0aG9kOiBmdW5jdGlvbiBnZXRIb21lR29vZHNNZXRob2QodHlwZSkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHZhciBwYWdlID0gdGhpcy5nb29kc1t0eXBlXS5wYWdlICsgMTsKICAgICAgZ2V0SG9tZUdvb2RzKHR5cGUsIHBhZ2UpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIHZhciBfdGhpczIkZ29vZHMkdHlwZSRsaXM7CgogICAgICAgIChfdGhpczIkZ29vZHMkdHlwZSRsaXMgPSBfdGhpczIuZ29vZHNbdHlwZV0ubGlzdCkucHVzaC5hcHBseShfdGhpczIkZ29vZHMkdHlwZSRsaXMsIF90b0NvbnN1bWFibGVBcnJheShyZXMuZGF0YS5saXN0KSk7CgogICAgICAgIF90aGlzMi5nb29kc1t0eXBlXS5wYWdlICs9IDE7IC8v5a6M5oiQ5LiK5ouJ5Yqg6L295pu05aSaCgogICAgICAgIF90aGlzMi4kcmVmcy5zY3JvbGwuZmluaXNoUHVsbFVwKCk7CiAgICAgIH0pOwogICAgfSwKICAgIC8v5LqL5Lu255uR5ZCs55u45YWz5pa55rOVCiAgICB0YWJUeXBlOiBmdW5jdGlvbiB0YWJUeXBlKGluZGV4KSB7CiAgICAgIGNvbnNvbGUubG9nKGluZGV4KTsKCiAgICAgIHN3aXRjaCAoaW5kZXgpIHsKICAgICAgICBjYXNlIDA6CiAgICAgICAgICB0aGlzLmN1cnJlbnRUeXBlID0gJ3BvcCc7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAxOgogICAgICAgICAgdGhpcy5jdXJyZW50VHlwZSA9ICduZXcnOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgMjoKICAgICAgICAgIHRoaXMuY3VycmVudFR5cGUgPSAnc2VsbCc7CiAgICAgICAgICBicmVhazsKICAgICAgfQoKICAgICAgdGhpcy4kcmVmcy50YWJjb250cm9sMS5jdXJyZW50SW5kZXggPSBpbmRleDsKICAgICAgdGhpcy4kcmVmcy50YWJjb250cm9sMi5jdXJyZW50SW5kZXggPSBpbmRleDsKICAgIH0sCiAgICAvLyBiYWNrVG9wKCl7CiAgICAvLyAgIC8vMS7nm7TmjqXlnKjniLbnu4Tku7bkuK0g6LCD55So5a2Q57uE5Lu25Litc2Nyb2xs55qE5pa55rOVLHNjcm9sbCDmjIfnmoTmmK9kYXRh5Lit55qEc2Nyb2xsCiAgICAvLyAgIC8vdGhpcy4kcmVmcy5ob21lc2Nyb2xsLnNjcm9sbC5zY3JvbGxUbygwLDAsNTAwKQogICAgLy8gICAvLzIu6LCD55So5a2Q57uE5Lu25Lit55qE5pa55rOVCiAgICAvLyAgIHRoaXMuJHJlZnMuc2Nyb2xsLmNTY3JvbGxUbygwLDApOwogICAgLy8gICB0aGlzLiRyZWZzLnNjcm9sbC5yZWZyZXNoKCkKICAgIC8vIH0sCiAgICBjb250ZW50U2Nyb2xsOiBmdW5jdGlvbiBjb250ZW50U2Nyb2xsKHBvc2l0aW9uKSB7CiAgICAgIC8vIDEu5Yik5patYmFja1RvcOaMiemSruaYr+WQpuaYvuekugogICAgICAvLyB0aGlzLmlzU2hvd0JzY2tUb3AgPSAtcG9zaXRpb24ueSA+MTAwMCAKICAgICAgdGhpcy5saXN0ZW5lcnNob3diYWNrKHBvc2l0aW9uKTsgLy8gMi7lhrPlrpp0YWJDb250cm9s5piv5ZCm5ZC46aG2CgogICAgICB0aGlzLmlzVGFiRml4ZWQgPSAtcG9zaXRpb24ueSA+IHRoaXMudGFiT2Zmc2V0VG9wOwogICAgfSwKICAgIGxvYWRNb3JlOiBmdW5jdGlvbiBsb2FkTW9yZSgpIHsKICAgICAgdGhpcy5nZXRIb21lR29vZHNNZXRob2QodGhpcy5jdXJyZW50VHlwZSk7CiAgICB9LAogICAgLy/pmLLmipbmk43kvZwKICAgIC8vIGRlYm91bmNlKGZ1bixkZWxheSl7CiAgICAvLyAgIGxldCB0aW1lciA9IG51bGw7CiAgICAvLyAgIHJldHVybiBmdW5jdGlvbiguLi5hcmdzKXsgLy8uLi5hcmdz5Y+v5Lul5Lyg5YWl5aSa5Liq5Y+C5pWwCiAgICAvLyAgICAgaWYodGltZXIpIGNsZWFyVGltZW91dCh0aW1lcik7CiAgICAvLyAgICAgdGltZXIgPSBzZXRUaW1lb3V0KCgpPT57CiAgICAvLyAgICAgICBmdW4uYXBwbHkodGhpcyxhcmdzKQogICAgLy8gICAgIH0sZGVsYXkpCiAgICAvLyAgIH0KICAgIC8vIH0gCiAgICBzd2lwZXJJbWFnZUxvYWQ6IGZ1bmN0aW9uIHN3aXBlckltYWdlTG9hZCgpIHsKICAgICAgLy9jb25zb2xlLmxvZyh0aGlzLiRyZWZzLnRhYmNvbnRyb2wyLiRlbC5vZmZzZXRUb3ApCiAgICAgIHRoaXMudGFiT2Zmc2V0VG9wID0gdGhpcy4kcmVmcy50YWJjb250cm9sMi4kZWwub2Zmc2V0VG9wOwogICAgfQogIH0sCiAgZGVzdHJveWVkOiBmdW5jdGlvbiBkZXN0cm95ZWQoKSB7CiAgICBjb25zb2xlLmxvZygiaG9tZSBkZXN0cm95ZWQiKTsKICB9LAoKICAvKmFjdGl2YXRlZCgpew0KICAgIGNvbnNvbGUubG9nKCIyMjIyMiIpDQogICAgY29uc29sZS5sb2coJ2hvbWUgYWN0aXZhdGVkJyx0aGlzLnNhdmVZKTsNCiAgICB0aGlzLiRyZWZzLmhvbWVzY3JvbGwuY1Njcm9sbFRvKDAsdGhpcy5zYXZlWSwwKTsgDQogICAgdGhpcy4kcmVmcy5ob21lc2Nyb2xsLnJlZnJlc2goKTsNCiAgfSwqLwogIGRlYWN0aXZhdGVkOiBmdW5jdGlvbiBkZWFjdGl2YXRlZCgpIHsKICAgIC8vdGhpcy5zYXZlWSA9IHRoaXMuJHJlZnMuaG9tZXNjcm9sbC5nZXRTY3JvbGxZKCk7CiAgICAvLyBjb25zb2xlLmxvZygnaG9tZSBkZWFjdGl2YXRlZCcsdGhpcy4kcmVmcy5ob21lc2Nyb2xsLmdldFNjcm9sbFkoKSx0aGlzLnNhdmVZKQogICAgLy/lj5bmtojlhajlsYDkuovku7bnmoTnm5HlkKwKICAgIHRoaXMuJGJ1cy4kb2ZmKHRoaXMuaXRlbUltZ0xpc3RlbmVyKTsKICB9Cn07"},{"version":3,"sources":["Home.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div id=\"home\">\r\n    <nav-bar class=\"home-nav\">\r\n      <div slot=\"center\">购物街</div>\r\n    </nav-bar>\r\n    <tab-control class=\"tab-control\" :title=\"['流行', '新款', '精选']\" @tabClick=\"tabType\" ref=\"tabcontrol1\" v-show=\"isTabFixed\"></tab-control>\r\n    <com-scroll class=\"content\"  ref=\"scroll\" :probe-type=\"3\" @scroll=\"contentScroll\"  :pull-up-load=\"true\" @pullingUp=\"loadMore\">\r\n      <home-swiper :banners=\"banners\" @swiperImageLoad=\"swiperImageLoad\"></home-swiper>\r\n      <home-recommend :recommend=\"recommend\"></home-recommend>\r\n      <feature-view></feature-view>\r\n      <tab-control  :title=\"['流行', '新款', '精选']\" @tabClick=\"tabType\" ref=\"tabcontrol2\"  ></tab-control>\r\n      <goods-list :goods=\"goods[currentType].list\"></goods-list>\r\n    </com-scroll>\r\n    <!-- 添加native修饰符，监听组件根源上的原生事件 -->\r\n    <back-top @click.native=\"backTop\" v-show=\"isShowBsckTop\"></back-top>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport NavBar from \"components/common/navbar/NavBar\";\r\n\r\nimport { getHomeMultidata, getHomeGoods } from \"network/home\";\r\n\r\nimport HomeSwiper from \"./childComps/HomeSwiper\";\r\nimport HomeRecommend from \"./childComps/HomeRecommend\";\r\nimport FeatureView from \"./childComps/FeatureView\";\r\n\r\nimport TabControl from \"components/content/tabcontrol/TabControl\";\r\nimport GoodsList from \"components/content/goods/GoodList\";\r\n\r\nimport ComScroll from \"components/common/scroll/ComScroll\";\r\n\r\nimport { debounce } from \"common/utils\";\r\nimport {itemListenerMixin,BackTopMixin} from 'common/mixin'\r\n\r\n\r\n\r\nexport default {\r\n  name: \"Home\",\r\n  components: {\r\n    NavBar,\r\n    HomeSwiper,\r\n    HomeRecommend,\r\n    FeatureView,\r\n    TabControl,\r\n    GoodsList,\r\n    ComScroll\r\n  },\r\n  mixins:[itemListenerMixin,BackTopMixin],\r\n  data() {\r\n    return {\r\n      banners: [],\r\n      recommend: [],\r\n      goods: {\r\n        pop: { page: 0, list: [] },\r\n        new: { page: 0, list: [] },\r\n        sell: { page: 0, list: []}\r\n      },\r\n      currentType:'pop',\r\n      isShowBsckTop:false,\r\n      tabOffsetTop:0,\r\n      isTabFixed:false,\r\n      saveY:0\r\n    };\r\n  },\r\n  created() {\r\n    //请求多个数据\r\n    this.getHomeMultidataMethod();\r\n    //2请求商品数据\r\n    this.getHomeGoodsMethod('pop');\r\n    this.getHomeGoodsMethod('new');\r\n    this.getHomeGoodsMethod('sell');\r\n\r\n    console.log(\"home create\")\r\n  },\r\n  mounted(){\r\n      //3.监听item中组件加载完成,\r\n      //const refresh = debounce(this.$refs.homescroll.refresh,500)\r\n\r\n      //对监听的事件进行保存\r\n      //this.itemImgListener = ()=>{ \r\n         //没有进行防抖操作\r\n        // this.$refs.homescroll.refresh()\r\n\r\n        //对他进行防抖操作\r\n         //refresh();\r\n      //}\r\n     //this.$bus.$on('itemImageLoad',this.itemImgListener)\r\n\r\n\r\n      //获取tabControl的offsetTop，组件是不可以获取offsetTop\r\n      //所有的组件都一个$el属性，用于获取组件中的元素\r\n\r\n  },\r\n  methods: {\r\n    //网络请求相关方法\r\n    //这里处理业务逻辑\r\n    getHomeMultidataMethod() {\r\n      getHomeMultidata().then(res => {\r\n        this.banners = res.data.banner.list;\r\n        this.recommend = res.data.recommend.list;\r\n      });\r\n    },\r\n    getHomeGoodsMethod(type){\r\n      const page = this.goods[type].page +1\r\n       getHomeGoods(type, page).then(res => {\r\n        this.goods[type].list.push(...res.data.list);\r\n        this.goods[type].page += 1;\r\n\r\n        //完成上拉加载更多\r\n        this.$refs.scroll.finishPullUp()\r\n      });\r\n    },\r\n\r\n    //事件监听相关方法\r\n    tabType(index){\r\n      console.log(index)\r\n      switch(index){\r\n        case 0:\r\n          this.currentType = 'pop'\r\n          break;\r\n        case 1:\r\n          this.currentType = 'new'\r\n          break;\r\n        case 2:\r\n          this.currentType = 'sell'\r\n          break;\r\n      }\r\n      this.$refs.tabcontrol1.currentIndex = index;\r\n      this.$refs.tabcontrol2.currentIndex = index;\r\n    },\r\n    // backTop(){\r\n    //   //1.直接在父组件中 调用子组件中scroll的方法,scroll 指的是data中的scroll\r\n    //   //this.$refs.homescroll.scroll.scrollTo(0,0,500)\r\n\r\n    //   //2.调用子组件中的方法\r\n    //   this.$refs.scroll.cScrollTo(0,0);\r\n    //   this.$refs.scroll.refresh()\r\n    // },\r\n    contentScroll(position){\r\n      // 1.判断backTop按钮是否显示\r\n      // this.isShowBsckTop = -position.y >1000 \r\n      this.listenershowback(position);\r\n      // 2.决定tabControl是否吸顶\r\n      this.isTabFixed =  - position.y> this.tabOffsetTop;\r\n    }, \r\n    loadMore(){\r\n      this.getHomeGoodsMethod(this.currentType)\r\n    },\r\n    //防抖操作\r\n    // debounce(fun,delay){\r\n    //   let timer = null;\r\n\r\n    //   return function(...args){ //...args可以传入多个参数\r\n    //     if(timer) clearTimeout(timer);\r\n    //     timer = setTimeout(()=>{\r\n    //       fun.apply(this,args)\r\n    //     },delay)\r\n    //   }\r\n    // } \r\n    swiperImageLoad() {\r\n      //console.log(this.$refs.tabcontrol2.$el.offsetTop)\r\n      this.tabOffsetTop = this.$refs.tabcontrol2.$el.offsetTop;\r\n    },\r\n   \r\n\r\n\r\n  },\r\n  destroyed(){\r\n    console.log(\"home destroyed\")\r\n  },\r\n  /*activated(){\r\n    console.log(\"22222\")\r\n    console.log('home activated',this.saveY);\r\n    this.$refs.homescroll.cScrollTo(0,this.saveY,0); \r\n    this.$refs.homescroll.refresh();\r\n  },*/\r\n  deactivated(){\r\n    \r\n    //this.saveY = this.$refs.homescroll.getScrollY();\r\n   // console.log('home deactivated',this.$refs.homescroll.getScrollY(),this.saveY)\r\n\r\n   //取消全局事件的监听\r\n   this.$bus.$off(this.itemImgListener)\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n#home {\r\n  /*padding-top: 44px;*/\r\n  height: 100vh; \r\n position: relative;\r\n}\r\n.home-nav {\r\n  background-color: var(--color-tint);\r\n  color: #fff;\r\n\r\n  /**在使用浏览器的原生滚动时，为了让导航不跟随一起滚动 */\r\n  /* position: fixed;\r\n  left: 0;\r\n  right: 0;\r\n  top: 0;\r\n  z-index: 9; */\r\n}\r\n/* .tab-control {  //通过sticky属性设置吸顶\r\n  position: sticky;\r\n  top: 44px;\r\n  z-index: 9;\r\n} */\r\n/* .fixed{  //这样做吸顶，会出现2个bug，一个tabControl突然消失，因为脱离了文档流，二是scroll滚动是改变translate属性的，fixed后的translate依然是可以改变的\r\n  position:fixed;\r\n  top:44px;\r\n  left:0;\r\n  right:0;\r\n  z-index:9\r\n} */\r\n\r\n\r\n/* 第一种方法，利用高度父100vh,  height: calc(100%-93px); */\r\n/* .content {\r\n  height: calc(100%-93px);\r\n  overflow: hidden;\r\n  margin-top:44px;\r\n} */\r\n/* \r\n   第二种利用定位\r\n */\r\n .content{\r\n   position:absolute;\r\n   overflow: hidden;\r\n   top:44px;\r\n   bottom:49px;\r\n   left:0;\r\n   right:0;\r\n }\r\n\r\n/**吸顶覆盖层的 */\r\n .tab-control{\r\n  position: relative;\r\n  z-index:9;\r\n}\r\n\r\n</style>\r\n"],"sourceRoot":"src/views/home"}]}