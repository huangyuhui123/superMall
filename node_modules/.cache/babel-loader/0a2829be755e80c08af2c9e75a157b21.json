{"remainingRequest":"/Users/liuyatou/huangyuhui/workspace/vue/supermall/node_modules/babel-loader/lib/index.js!/Users/liuyatou/huangyuhui/workspace/vue/supermall/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/liuyatou/huangyuhui/workspace/vue/supermall/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liuyatou/huangyuhui/workspace/vue/supermall/src/views/home/Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/liuyatou/huangyuhui/workspace/vue/supermall/src/views/home/Home.vue","mtime":1577141909879},{"path":"/Users/liuyatou/huangyuhui/workspace/vue/supermall/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liuyatou/huangyuhui/workspace/vue/supermall/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/liuyatou/huangyuhui/workspace/vue/supermall/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liuyatou/huangyuhui/workspace/vue/supermall/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICIvVXNlcnMvbGl1eWF0b3UvaHVhbmd5dWh1aS93b3Jrc3BhY2UvdnVlL3N1cGVybWFsbC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdG9Db25zdW1hYmxlQXJyYXkiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgTmF2QmFyIGZyb20gImNvbXBvbmVudHMvY29tbW9uL25hdmJhci9OYXZCYXIiOwppbXBvcnQgeyBnZXRIb21lTXVsdGlkYXRhLCBnZXRIb21lR29vZHMgfSBmcm9tICJuZXR3b3JrL2hvbWUiOwppbXBvcnQgSG9tZVN3aXBlciBmcm9tICIuL2NoaWxkQ29tcHMvSG9tZVN3aXBlciI7CmltcG9ydCBIb21lUmVjb21tZW5kIGZyb20gIi4vY2hpbGRDb21wcy9Ib21lUmVjb21tZW5kIjsKaW1wb3J0IEZlYXR1cmVWaWV3IGZyb20gIi4vY2hpbGRDb21wcy9GZWF0dXJlVmlldyI7CmltcG9ydCBUYWJDb250cm9sIGZyb20gImNvbXBvbmVudHMvY29udGVudC90YWJjb250cm9sL1RhYkNvbnRyb2wiOwppbXBvcnQgR29vZHNMaXN0IGZyb20gImNvbXBvbmVudHMvY29udGVudC9nb29kcy9Hb29kTGlzdCI7CmltcG9ydCBDb21TY3JvbGwgZnJvbSAiY29tcG9uZW50cy9jb21tb24vc2Nyb2xsL0NvbVNjcm9sbCI7CmltcG9ydCBCYWNrVG9wIGZyb20gImNvbXBvbmVudHMvY29udGVudC9iYWNrdG9wL0JhY2tUb3AiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkhvbWUiLAogIGNvbXBvbmVudHM6IHsKICAgIE5hdkJhcjogTmF2QmFyLAogICAgSG9tZVN3aXBlcjogSG9tZVN3aXBlciwKICAgIEhvbWVSZWNvbW1lbmQ6IEhvbWVSZWNvbW1lbmQsCiAgICBGZWF0dXJlVmlldzogRmVhdHVyZVZpZXcsCiAgICBUYWJDb250cm9sOiBUYWJDb250cm9sLAogICAgR29vZHNMaXN0OiBHb29kc0xpc3QsCiAgICBDb21TY3JvbGw6IENvbVNjcm9sbCwKICAgIEJhY2tUb3A6IEJhY2tUb3AKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBiYW5uZXJzOiBbXSwKICAgICAgcmVjb21tZW5kOiBbXSwKICAgICAgZ29vZHM6IHsKICAgICAgICBwb3A6IHsKICAgICAgICAgIHBhZ2U6IDAsCiAgICAgICAgICBsaXN0OiBbXQogICAgICAgIH0sCiAgICAgICAgbmV3OiB7CiAgICAgICAgICBwYWdlOiAwLAogICAgICAgICAgbGlzdDogW10KICAgICAgICB9LAogICAgICAgIHNlbGw6IHsKICAgICAgICAgIHBhZ2U6IDAsCiAgICAgICAgICBsaXN0OiBbXQogICAgICAgIH0KICAgICAgfSwKICAgICAgY3VycmVudFR5cGU6ICdwb3AnLAogICAgICBpc1Nob3dCc2NrVG9wOiBmYWxzZQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICAvL+ivt+axguWkmuS4quaVsOaNrgogICAgdGhpcy5nZXRIb21lTXVsdGlkYXRhTWV0aG9kKCk7IC8vMuivt+axguWVhuWTgeaVsOaNrgoKICAgIHRoaXMuZ2V0SG9tZUdvb2RzTWV0aG9kKCdwb3AnKTsKICAgIHRoaXMuZ2V0SG9tZUdvb2RzTWV0aG9kKCduZXcnKTsKICAgIHRoaXMuZ2V0SG9tZUdvb2RzTWV0aG9kKCdzZWxsJyk7CiAgfSwKICBtZXRob2RzOiB7CiAgICAvL+e9kee7nOivt+axguebuOWFs+aWueazlQogICAgLy/ov5nph4zlpITnkIbkuJrliqHpgLvovpEKICAgIGdldEhvbWVNdWx0aWRhdGFNZXRob2Q6IGZ1bmN0aW9uIGdldEhvbWVNdWx0aWRhdGFNZXRob2QoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBnZXRIb21lTXVsdGlkYXRhKCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMuYmFubmVycyA9IHJlcy5kYXRhLmJhbm5lci5saXN0OwogICAgICAgIF90aGlzLnJlY29tbWVuZCA9IHJlcy5kYXRhLnJlY29tbWVuZC5saXN0OwogICAgICB9KTsKICAgIH0sCiAgICBnZXRIb21lR29vZHNNZXRob2Q6IGZ1bmN0aW9uIGdldEhvbWVHb29kc01ldGhvZCh0eXBlKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdmFyIHBhZ2UgPSB0aGlzLmdvb2RzW3R5cGVdLnBhZ2UgKyAxOwogICAgICBnZXRIb21lR29vZHModHlwZSwgcGFnZSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgdmFyIF90aGlzMiRnb29kcyR0eXBlJGxpczsKCiAgICAgICAgKF90aGlzMiRnb29kcyR0eXBlJGxpcyA9IF90aGlzMi5nb29kc1t0eXBlXS5saXN0KS5wdXNoLmFwcGx5KF90aGlzMiRnb29kcyR0eXBlJGxpcywgX3RvQ29uc3VtYWJsZUFycmF5KHJlcy5kYXRhLmxpc3QpKTsKCiAgICAgICAgX3RoaXMyLmdvb2RzW3R5cGVdLnBhZ2UgKz0gMTsKICAgICAgfSk7CiAgICB9LAogICAgLy/kuovku7bnm5HlkKznm7jlhbPmlrnms5UKICAgIHRhYlR5cGU6IGZ1bmN0aW9uIHRhYlR5cGUoaW5kZXgpIHsKICAgICAgY29uc29sZS5sb2coaW5kZXgpOwoKICAgICAgc3dpdGNoIChpbmRleCkgewogICAgICAgIGNhc2UgMDoKICAgICAgICAgIHRoaXMuY3VycmVudFR5cGUgPSAncG9wJzsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlIDE6CiAgICAgICAgICB0aGlzLmN1cnJlbnRUeXBlID0gJ25ldyc7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAyOgogICAgICAgICAgdGhpcy5jdXJyZW50VHlwZSA9ICdzZWxsJzsKICAgICAgICAgIGJyZWFrOwogICAgICB9CiAgICB9LAogICAgYmFja0NsaWNrOiBmdW5jdGlvbiBiYWNrQ2xpY2soKSB7CiAgICAgIC8vMS7nm7TmjqXlnKjniLbnu4Tku7bkuK0g6LCD55So5a2Q57uE5Lu25Litc2Nyb2xs55qE5pa55rOVLHNjcm9sbCDmjIfnmoTmmK9kYXRh5Lit55qEc2Nyb2xsCiAgICAgIC8vdGhpcy4kcmVmcy5ob21lc2Nyb2xsLnNjcm9sbC5zY3JvbGxUbygwLDAsNTAwKQogICAgICAvLzIu6LCD55So5a2Q57uE5Lu25Lit55qE5pa55rOVCiAgICAgIHRoaXMuJHJlZnMuaG9tZXNjcm9sbC5jU2Nyb2xsVG8oMCwgMCk7CiAgICB9LAogICAgY29udGVudFNjcm9sbDogZnVuY3Rpb24gY29udGVudFNjcm9sbChwb3NpdGlvbikgewogICAgICAvL2NvbnNvbGUubG9nKHBvc2l0aW9uKQogICAgICB0aGlzLmlzU2hvd0JzY2tUb3AgPSAtcG9zaXRpb24ueSA+IDEwMDAgPyB0cnVlIDogZmFsc2U7CiAgICB9LAogICAgbG9hZE1vcmU6IGZ1bmN0aW9uIGxvYWRNb3JlKCkgewogICAgICBjb25zb2xlLmxvZygi5LiK5ouJ5Yqg6L295pu05aSaIik7CiAgICAgIHRoaXMuZ2V0SG9tZUdvb2RzTWV0aG9kKHRoaXMuY3VycmVudFR5cGUpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["Home.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div id=\"home\">\n    <nav-bar class=\"home-nav\">\n      <div slot=\"center\">购物街</div>\n    </nav-bar>\n    <com-scroll class=\"content\"  ref=\"homescroll\" :probe-type=\"3\" @scroll=\"contentScroll\"  :pull-up-load=\"true\" @pullingUp=\"loadMore\">\n      <home-swiper :banners=\"banners\"></home-swiper>\n      <home-recommend :recommend=\"recommend\"></home-recommend>\n      <feature-view></feature-view>\n      <tab-control class=\"tab-control\" :title=\"['流行', '新款', '精选']\" @tabClick=\"tabType\"></tab-control>\n      <goods-list :goods=\"goods[currentType].list\"></goods-list>\n    </com-scroll>\n    <!-- 添加native修饰符，监听组件根源上的原生事件 -->\n    <back-top @click.native=\"backClick\" v-show=\"isShowBsckTop\"></back-top>\n  </div>\n</template>\n\n<script>\nimport NavBar from \"components/common/navbar/NavBar\";\n\nimport { getHomeMultidata, getHomeGoods } from \"network/home\";\n\nimport HomeSwiper from \"./childComps/HomeSwiper\";\nimport HomeRecommend from \"./childComps/HomeRecommend\";\nimport FeatureView from \"./childComps/FeatureView\";\n\nimport TabControl from \"components/content/tabcontrol/TabControl\";\nimport GoodsList from \"components/content/goods/GoodList\";\n\nimport ComScroll from \"components/common/scroll/ComScroll\";\nimport BackTop from \"components/content/backtop/BackTop\"\n\n\n\nexport default {\n  name: \"Home\",\n  components: {\n    NavBar,\n    HomeSwiper,\n    HomeRecommend,\n    FeatureView,\n    TabControl,\n    GoodsList,\n    ComScroll,\n    BackTop\n  },\n  data() {\n    return {\n      banners: [],\n      recommend: [],\n      goods: {\n        pop: { page: 0, list: [] },\n        new: { page: 0, list: [] },\n        sell: { page: 0, list: []}\n      },\n      currentType:'pop',\n      isShowBsckTop:false\n    };\n  },\n  created() {\n    //请求多个数据\n    this.getHomeMultidataMethod();\n    //2请求商品数据\n    this.getHomeGoodsMethod('pop');\n    this.getHomeGoodsMethod('new');\n    this.getHomeGoodsMethod('sell')\n   \n  },\n  methods: {\n    //网络请求相关方法\n    //这里处理业务逻辑\n    getHomeMultidataMethod() {\n      getHomeMultidata().then(res => {\n        this.banners = res.data.banner.list;\n        this.recommend = res.data.recommend.list;\n      });\n    },\n    getHomeGoodsMethod(type){\n      const page = this.goods[type].page +1\n       getHomeGoods(type, page).then(res => {\n        this.goods[type].list.push(...res.data.list);\n        this.goods[type].page += 1;\n      });\n    },\n\n    //事件监听相关方法\n    tabType(index){\n      console.log(index)\n      switch(index){\n        case 0:\n          this.currentType = 'pop'\n          break;\n        case 1:\n          this.currentType = 'new'\n          break;\n        case 2:\n          this.currentType = 'sell'\n          break;\n      }\n    },\n    backClick(){\n      //1.直接在父组件中 调用子组件中scroll的方法,scroll 指的是data中的scroll\n      //this.$refs.homescroll.scroll.scrollTo(0,0,500)\n\n      //2.调用子组件中的方法\n      this.$refs.homescroll.cScrollTo(0,0)\n    },\n    contentScroll(position){\n      //console.log(position)\n      this.isShowBsckTop = -position.y >1000? true :false\n    },\n    loadMore(){\n      console.log(\"上拉加载更多\")\n      this.getHomeGoodsMethod(this.currentType)\n    }        \n\n\n  }\n};\n</script>\n\n<style scoped>\n#home {\n  /*padding-top: 44px;*/\n  height: 100vh; \n position: relative;\n}\n.home-nav {\n  background-color: var(--color-tint);\n  color: #fff;\n\n  position: fixed;\n  left: 0;\n  right: 0;\n  top: 0;\n  z-index: 9;\n}\n.tab-control {\n  position: sticky;\n  top: 44px;\n  z-index: 9;\n}\n/* 第一种方法，利用高度父100vh,  height: calc(100%-93px); */\n/* .content {\n  height: calc(100%-93px);\n  overflow: hidden;\n  margin-top:44px;\n} */\n/* \n   第二种利用定位\n */\n .content{\n   position:absolute;\n   overflow: hidden;\n   top:44px;\n   bottom:49px;\n   left:0;\n   right:0;\n }\n</style>\n"],"sourceRoot":"src/views/home"}]}